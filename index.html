<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EcoRewards - Aplikasi Kiosk Digital Sampah</title>
<!-- (CSS tetap dari yang kamu kasih, tidak saya tulis ulang di sini karena panjang) -->
<link rel="stylesheet" href="styles.css">
<script defer src="script.js"></script>
</head>
<body>
<header>
    <h1>EcoRewards</h1>
</header>
<main id="app"></main>
<div class="bottom-nav">
    <a href="#" class="bottom-nav-item" id="nav-home">
        <span class="bottom-nav-icon">🏠</span>
        Beranda
    </a>
    <a href="#" class="bottom-nav-item" id="nav-kiosk">
        <span class="bottom-nav-icon">🏪</span>
        Kiosk
    </a>
    <a href="#" class="bottom-nav-item" id="nav-rewards">
        <span class="bottom-nav-icon">🎁</span>
        Rewards
    </a>
    <a href="#" class="bottom-nav-item" id="nav-profile">
        <span class="bottom-nav-icon">👤</span>
        Profil
    </a>
</div>

<!-- QR Modal -->
<div id="qrModal" class="modal">
    <div class="modal-content">
        <h3>Scan QR Kiosk</h3>
        <div class="scanner-box">
            <div class="scanner-animation"></div>
        </div>
        <p>(Mock-up kamera aktif di sini)</p>
        <button class="close-btn" onclick="closeModal()">Tutup</button>
    </div>
</div>

<script>
// Simple Router
const app = document.getElementById('app');

function navigate(page) {
    app.innerHTML = pages[page] || pages['home'];
    setActiveNav(page);
}

function setActiveNav(page) {
    document.querySelectorAll('.bottom-nav-item').forEach(item => {
        item.classList.remove('active');
    });
    document.getElementById('nav-' + page).classList.add('active');
}

const pages = {
    home: `
        <div class="card">
            <div class="profile-section">
                <div class="profile-pic">👤</div>
                <div class="profile-info">
                    <h3 id="welcome-text">Selamat Datang, Budi</h3>
                    <p>Member Sejak 10 April 2025</p>
                </div>
            </div>
            <div class="points">
                <h2>350</h2>
                <p>EcoCoins Anda</p>
                <button id="scanQrBtn" class="btn btn-block">Scan QR Kiosk</button>
            </div>
        </div>
    `,
    kiosk: `
        <h3 class="section-title">Kiosk Terdekat</h3>
        <div class="card">
            <div class="map-container">Peta Mock-up</div>
            <ul class="kiosk-list">
                <li class="kiosk-item">
                    <div class="kiosk-icon">🏪</div>
                    <div class="kiosk-info">
                        <h4>Kiosk Induk</h4>
                        <p>Jl. Raya No. 1</p>
                    </div>
                    <div class="distance">500m</div>
                </li>
                <li class="kiosk-item">
                    <div class="kiosk-icon">🏪</div>
                    <div class="kiosk-info">
                        <h4>Kiosk Cabang</h4>
                        <p>Jl. Melati No. 10</p>
                    </div>
                    <div class="distance">850m</div>
                </li>
            </ul>
        </div>
    `,
    rewards: `
        <h3 class="section-title">Tukar Rewards</h3>
        <div class="card">
            <div class="reward-item">
                <div class="reward-icon">🎟️</div>
                <div class="reward-info">
                    <h4>Voucher Belanja</h4>
                    <p>Rp50.000 Voucher Supermarket</p>
                </div>
                <span class="reward-point">200 EcoCoins</span>
            </div>
            <div class="reward-item">
                <div class="reward-icon">🎫</div>
                <div class="reward-info">
                    <h4>Tiket Bioskop</h4>
                    <p>1 Tiket Film Lokal</p>
                </div>
                <span class="reward-point">150 EcoCoins</span>
            </div>
        </div>
    `,
    profile: `
        <h3 class="section-title">Profil Saya</h3>
        <div class="card">
            <div class="profile-section">
                <div class="profile-pic">👤</div>
                <div class="profile-info">
                    <h3>Budi</h3>
                    <p>Member sejak 10 April 2025</p>
                    <p>Email: budi@example.com</p>
                    <p>No HP: 081234567890</p>
                </div>
            </div>
        </div>
    `
};

// Modal QR Scan
function closeModal() {
    document.getElementById('qrModal').style.display = 'none';
}

function openModal() {
    document.getElementById('qrModal').style.display = 'block';
}

document.addEventListener('click', function(e) {
    if (e.target && e.target.id === 'scanQrBtn') {
        openModal();
    }
});

// Navigation Clicks
['home', 'kiosk', 'rewards', 'profile'].forEach(page => {
    document.getElementById('nav-' + page).addEventListener('click', function(e) {
        e.preventDefault();
        navigate(page);
    });
});

// Init
navigate('home');
</script>
</body>
</html>
